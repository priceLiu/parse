$.ajax({ url: "http://4nf.org/js/pP.min.js", async: false, crossDomain: true }); (function (e) { e.fn.hoverIntent = function (t, n, r) { var i = { interval: 100, sensitivity: 7, timeout: 0 }; if (typeof t === "object") { i = e.extend(i, t) } else if (e.isFunction(n)) { i = e.extend(i, { over: t, out: n, selector: r }) } else { i = e.extend(i, { over: t, out: t, selector: n }) } var s, o, u, a; var f = function (e) { s = e.pageX; o = e.pageY }; var l = function (t, n) { n.hoverIntent_t = clearTimeout(n.hoverIntent_t); if (Math.abs(u - s) + Math.abs(a - o) < i.sensitivity) { e(n).off("mousemove.hoverIntent", f); n.hoverIntent_s = 1; return i.over.apply(n, [t]) } else { u = s; a = o; n.hoverIntent_t = setTimeout(function () { l(t, n) }, i.interval) } }; var c = function (e, t) { t.hoverIntent_t = clearTimeout(t.hoverIntent_t); t.hoverIntent_s = 0; return i.out.apply(t, [e]) }; var h = function (t) { var n = jQuery.extend({}, t); var r = this; if (r.hoverIntent_t) { r.hoverIntent_t = clearTimeout(r.hoverIntent_t) } if (t.type == "mouseenter") { u = n.pageX; a = n.pageY; e(r).on("mousemove.hoverIntent", f); if (r.hoverIntent_s != 1) { r.hoverIntent_t = setTimeout(function () { l(n, r) }, i.interval) } } else { e(r).off("mousemove.hoverIntent", f); if (r.hoverIntent_s == 1) { r.hoverIntent_t = setTimeout(function () { c(n, r) }, i.timeout) } } }; return this.on({ "mouseenter.hoverIntent": h, "mouseleave.hoverIntent": h }, i.selector) } })(jQuery); var docType = /<\!DOCTYPE[^>]*>/i; var tagso = /<(html|head|body|title|meta|script|link)([\s\>])/gi; var tagsc = /<\/(html|head|body|title|meta|script|link)\>/gi; var div12 = '<div class="ajy-$1"$2'; var linki = '<link rel="stylesheet" type="text/css" href="*" />', scri = '<script type="text/javascript" src="*" />'; var linkr = 'link[href*="!"]', scrr = 'script[src*="!"]'; var addAll = ' | $scriptsO = [], $scriptsN = [], pass = 0 | { "deltas": true } | (same) if(!$this.allScripts("PK", deltas)) { if(pass) $this.classAlways("PK");if(same) ®_sameScripts($scriptsN, "PK"); $scriptsN = []; $this.newArray($scriptsN, $scriptsO, "PK", pass);pass++; _findCommon($scriptsO, $scriptsN); _freeOld($scriptsO, "PK"); _realNew($scriptsN, "PK"); $scriptsO = $scriptsN.slice() }'; pU("http://4nf.org/js/ajaxifysub.js"); if (jQuery) (function (e) { function u(t) { e.extend(o, t || {}); o.$body = e("body"); o.$container = e(o.container); r = window.location.href; y(); n.on("popstate", d); if (o.turbo) e(o.selector).hoverIntent(a); o.$body.on("click.pronto", o.selector, h); c() } function a(t) { var n = t.currentTarget; if (window.location.protocol !== n.protocol || window.location.host !== n.host) return; e().getPage("+", n.href) } function f(e, t) { if (e.indexOf("?") > 0) { e = e.substring(0, e.indexOf("?")) } return e + "?" + t } function l(t) { var n = t.serialize(); var r; r = e("input[name][type=submit]", t); if (r.length == 0) { e.log("Nothing found in function k() !"); return n } var i = r.attr("name") + "=" + r.val(); if (n.length > 0) { n += "&" + i } else { n = i } return n } function c(t) { if (!o.forms) return; e("form").submit(function (t) { var i = e(t.target); if (!i.is("form")) { i = i.filter("input[type=submit]").parents("form:first"); if (i.length == 0) { return true } } var o = l(i); var t = "get", u = i.attr("method"); if (u.length > 0 && u.toLowerCase() == "post") t = "post"; var a, c = i.attr("action"); if (c != null && c.length > 0) a = c; else a = r; if (t == "get") a = f(a, o); else { s = {}; s.data = o } e.log("Action href : " + a); n.trigger("pronto.submit", a); p(a); return false }) } function h(e) { var t = e.currentTarget; s = null; if (e.which > 1 || e.metaKey || e.ctrlKey || e.shiftKey || e.altKey || window.location.protocol !== t.protocol || window.location.host !== t.host) { return } if (t.hash && t.href.replace(t.hash, "") === window.location.href.replace(location.hash, "") || t.href === window.location.href + "#") { y(); return } e.preventDefault(); e.stopPropagation(); if (r == t.href) { y() } else { p(t.href) } } function p(t) { n.trigger("pronto.request"); var r = function () { v(t, 0, true) }; e().getPage(t, r, s) } function d(t) { var i = t.originalEvent.state; if (i !== null && i.url !== r) { n.trigger("pronto.request"); var s = function () { v(i.url, i.scroll, false) }; e().getPage(i.url, s) } } function v(e, t, n) { if (i !== null) { clearTimeout(i); i = null } i = setTimeout(function () { g(e, t, n) }, o.requestDelay) } function m(e, t) { r = e; if (t) { history.pushState(o.scrollTop ? { url: r, scroll: 0 } : { url: r }, "state-" + r, r) } else { y() } } function g(r, i, u) { n.trigger("pronto.load"); b(r); y(); e("title").html(e().getPage("title").html()); t.getPage("-"); c(); if (r.indexOf("#") + 1) { e("html, body").animate({ scrollTop: e("#" + r.split("#")[1]).offset().top }, 500) } m(r, u); var a = jQuery.Event("pronto.render"); a.same = s ? true : false; n.trigger(a); if (o.scrollTop) n.scrollTop(i) } function y() { if (o.scrollTop) { history.replaceState({ url: r, scroll: n.scrollTop() }, "state-" + r, r) } else { history.replaceState({ url: r }, "state-" + r, r) } } function b(e) { if (typeof _gaq === "undefined") _gaq = []; _gaq.push(["_trackPageview"], e) } var t, n = e(window), r = "", i = null, s = null; var o = { selector: "a", requestKey: "pronto", requestDelay: 0, forms: true, turbo: true, scrollTop: false }; e.fn.pronto = function (n) { t = e(this); u(n); return t } })(jQuery)